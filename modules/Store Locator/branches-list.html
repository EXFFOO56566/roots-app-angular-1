<!-- This template shows all the Stores in a List View -->
<ons-page ng-controller="storesController" ng-init="start(true, 'list')">
  <ons-toolbar>
    <div class="left">
      <ons-toolbar-button ng-click="menu.toggle()"><ons-icon icon="ion-navicon-round" fixed-width="false"></ons-icon></ons-toolbar-button>
    </div>
    <div class="center">All Branches</div>
    <div class="right" ng-show="isFetching">
      <ons-toolbar-button><ons-icon icon="ion-loading-c" fixed-width="false" ></ons-icon></ons-toolbar-button>
    </div>
  </ons-toolbar>
  <div class="app-page">
    <ons-list modifier="locations">

      <ons-list-item class="list-location-container" ng-repeat="(id, marker) in markers | orderBy:'distance'" id="{{ id }}" >
        <ons-row>
          <ons-col>
            <div class="km">
              <!-- if you want to show Miles instead of KM, use this expression: {{ marker.distance | showMiles }} miles -->
              {{ marker.distance }} km
            </div>
            <div class="name" ng-bind-html="renderHtml(marker.title)"></div>            
            <div class="location">
              <i class="fa fa-map-marker"></i> {{ marker.address }}
            </div>
            <div class="location">
              <i class="ion-android-clock"></i> {{ marker.hours }}
            </div>
            <div class="desc" ng-bind-html="renderHtml(marker.content)"></div>
          </ons-col>
        </ons-row>
        <ons-row>
          <ons-col width="28%">
            <ons-button modifier="large" class="call-phone" data-phone="{{ marker.phone }}">Call</ons-button>
          </ons-col>
          <ons-col width="4%"></ons-col>
          <ons-col width="68%">
            <ons-button modifier="large cta" class="get-directions" data-marker="{{ marker.id }}">Get Directions</ons-button>
          </ons-col>
        </ons-row>
      </ons-list-item>

    </ons-list>
  </div>
</ons-page>