<!doctype html>
<html lang="en" ng-app="app">
<head>
  <meta charset="utf-8">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <title>Gallery</title>  

  <!-- All our CSS -->
  <!-- onsen-css-components.css is the skin of your app, you can generate one custom skin with this generator: http://components.onsen.io/ -->
  <link rel="stylesheet" href="lib/onsen/css/onsenui.css">    
  <link rel="stylesheet" href="css/onsen-css-components.css"> 
  <link rel="stylesheet" href="css/plugins.css"/>
  <link rel="stylesheet" href="css/roots.css"/>
  <link rel="stylesheet" href="css/app.css"/>
  
  <!-- These are our JS libraries that make all the magic in our App -->
  <script src="http://maps.google.com/maps/api/js"></script>
  <script src="lib/onsen/js/angular/angular.js"></script>    
  <script src="lib/onsen/js/onsenui.js"></script>    
  <script src="js/plugins.js"></script>  
  <!--<script src="cordova.js"></script>-->
  <script src="js/app.js"></script>  
      
</head>

<body>    
    
  <ons-navigator animation="slide" var="gallery">
    <ons-page>

      <ons-toolbar>
        <div class="left"></div>
        <div class="center">Gallery</div>
        <div class="right"></div>
      </ons-toolbar>

      <div class="app-page gallery-page" ng-controller="galleryController" data-ng-init="getAllRecords()">
        <div class="app-page-gallery three-cols">      

          <ons-row ng-repeat="row in items | partition:3">
            <ons-col ng-repeat="item in row track by $index">
              <ons-button modifier="clean" ng-click="showPhoto( ($parent.$index*row.length)+$index )">
                <div class="photo-thumb is-loading" images-loaded="imgLoadedEvents">
                  <img ng-src="{{ item.attachments[0].images.medium.url }}" img-cache></div>
                </div>
                <!-- I'm grabbing the thumb of the image that has 300x300 dimensions -->
                <!-- If you want to grab the full image you may want to use -->
                <!-- <img ng-src="{{ item.attachments[0].url }}"> -->
              </ons-button>
            </ons-col>
          </ons-row>

          <ons-button id="moreButton" modifier="large" should-spin="{{isFetching}}" ng-click="nextPage()">MORE PHOTOS</ons-button>

        </div>
      </div>

    </ons-page>
  </ons-navigator>  

</body>
</html>